# –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –æ—à–∏–±–æ–∫

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. **SessionManager.ensureSessionId is not a function**
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –º–µ—Ç–æ–¥ `ensureSessionId()` –≤ SessionManager
**–†–µ—à–µ–Ω–∏–µ:** 
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `ensureSessionId()` –≤ `src/api/config.ts`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `getSessionId()` - —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `string | null`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç `uuidv4`

**–ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```typescript
ensureSessionId(): string {
  let sessionId = this.getSessionId();
  if (!sessionId) {
    sessionId = uuidv4();
    this.setSessionId(sessionId);
  }
  return sessionId;
}
```

### 2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç ComponentRegistry –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
**–ü—Ä–æ–±–ª–µ–º–∞:** `Failed to resolve import "../../page-engine/components"`
**–†–µ—à–µ–Ω–∏–µ:** 
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `src/page-engine/components.ts` —Å –ø—É—Å—Ç—ã–º registry
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –±–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `ComponentProps`, `ComponentRegistryItem`
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getComponent()`

### 3. **WebSocket –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite**
**–ü—Ä–æ–±–ª–µ–º–∞:** `WebSocket connection to 'ws://localhost:3000' failed`
**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è HMR –≤ `vite.config.ts`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω —Ç–æ—Ç –∂–µ –ø–æ—Ä—Ç –¥–ª—è WebSocket

## üö® –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤:
- ‚úÖ **Frontend (localhost:3000)** - –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Backend (localhost:5001)** - –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Mod1 (localhost:8080)** - –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ  
- ‚úÖ **Mod2 (localhost:8000)** - –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
- ‚úÖ **Mod3 (localhost:9000)** - –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- ‚úÖ **API Layer** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ **End-to-end flows** - –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ **Session Management** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **State Management** - –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ **Toast Notifications** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

## ‚ùå –û—Å—Ç–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è UI –∫–Ω–æ–ø–æ–∫
**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤–æ
**–ü—Ä–æ–±–ª–µ–º–∞:** `ApiIntegrationButtons` —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä–∞–±–æ—á–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
```typescript
// –í UnifiedSessionPage.tsx
import { ApiIntegrationButtons } from './ApiIntegrationButtons';

// –î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–µ–Ω–¥–µ—Ä:
<ApiIntegrationButtons sessionId={sessionId} />
```

### 2. –ü—É—Å—Ç–æ–π ComponentRegistry
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** Registry —Å–æ–∑–¥–∞–Ω, –Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

**–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**
```typescript
export const ComponentRegistry: Record<string, ComponentRegistryItem> = {
  'ui.hero': {
    component: HeroComponent,
    name: 'Hero Section',
    description: 'Hero banner component'
  },
  'ui.button': {
    component: ButtonComponent,
    name: 'Button',
    description: 'Clickable button component'
  },
  // –∏ —Ç.–¥.
};
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å ApiIntegrationButtons** - 15 –º–∏–Ω—É—Ç
2. **–î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ Registry** - 45 –º–∏–Ω—É—Ç  
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ñ–ª–æ—É Voice ‚Üí Layout** - 30 –º–∏–Ω—É—Ç

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 3 —à–∞–≥–æ–≤:
- –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Voice ‚Üí Layout
- –†–∞–±–æ—Ç–∞—é—â–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ UI
- –†–µ–∞–ª—å–Ω—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ registry
- End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 29.01.2025*
