# üìã –û–¢–ß–ï–¢ –û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò –ò–ù–¢–ï–ì–†–ê–¶–ò–ò Mod1-Mod2-Mod3

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 29.01.2025  
**–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç:** AI Assistant  
**–°–æ–≥–ª–∞—Å–Ω–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É:** Testing Guide for InterView Mod1-2-3 System

## üéØ –¶–ï–õ–ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π  
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª **–¢–µ–∫—Å—Ç ‚Üí Mod2 ‚Üí Mod3 ‚Üí Layout**
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –æ–∂–∏–¥–∞–Ω–∏—è–º –∏–∑ –≥–∞–π–¥–∞
4. ‚úÖ –í—ã—è–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### ‚úÖ Health Check - –í–°–ï –ú–û–î–£–õ–ò –†–ê–ë–û–¢–ê–Æ–¢

```
Mod1_v2 (8080): "ok" ‚úÖ
Mod2-v1 (8001): "ok" ‚úÖ  
Mod3-v1 (9001): "ok" ‚úÖ
```

### ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –∏–∑ –≥–∞–π–¥–∞
**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** `"–°–¥–µ–ª–∞–π —Å–∞–π—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã"`

### ‚úÖ Mod2 NLP –æ–±—Ä–∞–±–æ—Ç–∫–∞

**–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Mod2:**
```bash
curl -X POST http://localhost:8001/v2/ingest/chunk
{
  "session_id": "guide_test_exact",
  "chunk_id": "chunk_exact", 
  "seq": 1,
  "text": "–°–¥–µ–ª–∞–π —Å–∞–π—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã",
  "lang": "ru-RU",
  "timestamp": 1759430000001
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞—Ç—É—Å `"ok"` ‚úÖ

### ‚úÖ Mod2 –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X GET http://localhost:8001/v2/session/guide_test_exact/entities
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "ok",
  "session_id": "guide_test_exact",
  "entities": [
    "–∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞",
    "–æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º–∞", 
    "—Å–∞–π—Ç",
    "–∑–∞–≥–æ–ª–æ–≤–æ–∫"
  ],
  "keyphrases": [
    "–∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞",
    "–æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º–∞",
    "—Å–∞–π—Ç", 
    "–∑–∞–≥–æ–ª–æ–≤–æ–∫"
  ],
  "chunks_processed": 1
}
```

**‚úÖ –°—É—â–Ω–æ—Å—Ç–∏ —É—Å–ø–µ—à–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω—ã:** 4 —Å—É—â–Ω–æ—Å—Ç–∏ + –∫–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–∑—ã

### ‚úÖ Mod3 –≤–∏–∑—É–∞–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST http://localhost:9001/v1/map
{
  "session_id": "guide_test_exact",
  "entities": ["–∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞", "–æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º–∞", "—Å–∞–π—Ç", "–∑–∞–≥–æ–ª–æ–≤–æ–∫"],
  "keyphrases": ["–∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞", "–æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º–∞", "—Å–∞–π—Ç", "–∑–∞–≥–æ–ª–æ–≤–æ–∫"],
  "template": "hero-main-footer"
}
```

**–û—Ç–≤–µ—Ç Mod3:**
```json
{
  "template": "hero-main-footer",
  "sections": {
    "hero": [],
    "main": [
      {
        "component": "ui.button",
        "props": {
          "text": "–ö–Ω–æ–ø–∫–∞ –û—Ç–ø—Ä–∞–≤–∫–∞"
        },
        "confidence": 0.9,
        "match_type": "fuzzy",
        "term": "–∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞"
      },
      {
        "component": "ui.form", 
        "props": {
          "text": "–û—Ç–ø—Ä–∞–≤–∫–∞ –§–æ—Ä–º–∞"
        },
        "confidence": 0.9,
        "match_type": "fuzzy",
        "term": "–æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º–∞"
      },
      {
        "component": "ui.heading",
        "props": {
          "text": "–ó–∞–≥–æ–ª–æ–≤–æ–∫"
        },
        "confidence": 0.9,
        "match_type": "fuzzy", 
        "term": "–∑–∞–≥–æ–ª–æ–≤–æ–∫"
      }
    ],
    "footer": []
  },
  "count": 6
}
```

## üìà –°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –û–ñ–ò–î–ê–ù–ò–Ø–ú –ò–ó –ì–ê–ô–î–ê

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

1. **Template:** `"hero-main-footer"` ‚úÖ
2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ main:** –ï—Å—Ç—å `ui.button`, `ui.heading`, `ui.form` ‚úÖ
3. **–§–æ—Ä–º–∞—Ç –Ω–∞–∑–≤–∞–Ω–∏–π:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `ui.*` ‚úÖ  
4. **Props –æ–±—ä–µ–∫—Ç—ã:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–º–µ—é—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ props ‚úÖ
5. **Confidence scores:** 0.9 –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚úÖ
6. **Match types:** –í–∞–ª–∏–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è `"fuzzy"` ‚úÖ
7. **Count > 0:** –ó–Ω–∞—á–µ–Ω–∏–µ 6 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚úÖ

### ‚ö†Ô∏è –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- **–ü—Ä–∏—á–∏–Ω–∞:** –í–µ—Ä–æ—è—Ç–Ω–æ, Mod3 –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏–ª `M3_DEDUP_BY_COMPONENT=true`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–º–µ—Å—Ç–æ 4 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 6 (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω—ã)

#### 2. **Hero —Å–µ–∫—Ü–∏—è –ø—É—Å—Ç–∞—è**
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –¥–ª—è hero
- **–û–∂–∏–¥–∞–Ω–∏–µ –≥–∞–π–¥–∞:** Hero –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `ui.hero` —Å fallback
- **–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç (hero –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)

#### 3. **Mod3 Layout retrieval**
- **–ü—Ä–æ–±–ª–µ–º–∞:** `GET /v1/layout/{session_id}` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null`
- **–ü—Ä–∏—á–∏–Ω–∞:** Layout –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫—ç—à Mod3
- **–°—Ç–∞—Ç—É—Å:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

## üéØ –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É –∏–∑ –≥–∞–π–¥–∞:

**–û–∂–∏–¥–∞–ª–æ—Å—å –∏–∑ –≥–∞–π–¥–∞:**
```json
{
  "layout": {
    "template": "hero-main-footer",
    "sections": {
      "hero": [{"component": "ui.hero", "props": {...}}],
      "main": [
        {"component": "ui.heading", "props": {...}},
        {"component": "ui.button", "props": {...}}
      ],
      "footer": []
    },
    "count": 3
  }
}
```

**–ü–æ–ª—É—á–µ–Ω–æ –≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```json
{
  "layout": {
    "template": "hero-main-footer", ‚úÖ
    "sections": {
      "hero": [], ‚ö†Ô∏è (–ø—É—Å—Ç–æ–π, –≤–º–µ—Å—Ç–æ ui.hero)
      "main": [
        {"component": "ui.button", "props": {...}}, ‚úÖ
        {"component": "ui.form", "props": {...}}, ‚úÖ (–Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ)
        {"component": "ui.heading", "props": {...}}, ‚úÖ
        // ... –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚ö†Ô∏è
      ],
      "footer": [] ‚úÖ
    },
    "count": 6 ‚úÖ (–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ)
  }
}
```

## üìã –°–û–û–¢–í–ï–¢–°–¢–í–ò–ï SUCCESS CRITERIA

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –û–∂–∏–¥–∞–Ω–∏–µ | –ü–æ–ª—É—á–µ–Ω–æ | –°—Ç–∞—Ç—É—Å |
|----------|----------|----------|---------|
| Template | "hero-main-footer" | "hero-main-footer" | ‚úÖ |
| Hero section | Contains ui.hero | Empty | ‚ö†Ô∏è |
| Main section | ui.heading + ui.button | ui.button + ui.form + ui.heading | ‚úÖ |
| Component props | Not empty | All filled | ‚úÖ |
| Component names | ui.* format | ui.* format | ‚úÖ |
| Confidence scores | 0.0-1.0 | 0.9 | ‚úÖ |
| Match types | Valid | "fuzzy" | ‚úÖ |
| Explanations | Included | Not checked | ‚ùì |
| Count > 0 | True | 6 | ‚úÖ |

## üèÜ –û–ë–©–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### ‚úÖ –£–°–ü–ï–®–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:
- **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ–∫—Å—Ç ‚Üí layout —Ä–∞–±–æ—Ç–∞–µ—Ç** –Ω–∞ 75%
- **Mod1-Mod2-Mod3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞  
- **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å** layout —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ props –∏ confidence
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è** —Å–æ–±–ª—é–¥–µ–Ω–∞ (`ui.*` —Ñ–æ—Ä–º–∞—Ç)

### ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:
1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mod3:** –í–∫–ª—é—á–∏—Ç—å `M3_DEDUP_BY_COMPONENT=true`
2. **Hero fallback:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `M3_FALLBACK_SECTIONS=true` 
3. **Layout caching:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `GET /v1/layout/{id}`
4. **–ö–∞—á–µ—Å—Ç–≤–æ –º–∞–ø–ø–∏–Ω–≥–∞:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –ü–†–û–î–ê–ö–®–ï–ù–£

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –Ω–∞ 75%:**

- ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **End-to-end flows** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç  
- ‚ö†Ô∏è **–ö–∞—á–µ—Å—Ç–≤–æ –º–∞–ø–ø–∏–Ω–≥–∞** - —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚ö†Ô∏è **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏

**–î–æ –ø–æ–ª–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** ~30 –º–∏–Ω—É—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Mod3 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

*–û—Ç—á–µ—Ç —Å–æ—Å—Ç–∞–≤–ª–µ–Ω: 29.01.2025 - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–æ —Å–æ–≥–ª–∞—Å–Ω–æ Testing Guide for InterView Mod1-2-3 System*
